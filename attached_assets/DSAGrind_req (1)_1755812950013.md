DSAGrind_Requirements_v2

**📦 Core Principles**
- Microservices architecture in .NET 8 (backend), React + Vite + Tailwind (frontend)
- Config-driven modularity: Providers behind factory/strategy; free↔paid switching via config
- Event-driven/async: Kafka (Confluent Cloud), BullMQ + Redis for local dev
- Admin-first: Super-admin configures categories, paid/free rules, feature toggles
- Security: JWT + refresh tokens, SSO/OAuth2 (Google/GitHub), RBAC

**🏗 Core Services (Microservices)**
1. Auth Service: JWT + refresh tokens, OAuth2 SSO, roles, email verification, refresh-token revocation, Kafka events, in-app & critical email notifications
2. Problems Service: CRUD, bulk import (Excel/CSV), tagging, difficulty, testcases, paid/free rules, AI integration
3. Submissions Service: Code execution, results, sandbox runners, hidden vs visible cases
4. AI MCP Service: Testcase generation, debugging, semantic search, provider factory (OpenAI, Perplexity)
5. Search Service: Mongo text, Qdrant embeddings
6. Admin Service: Manage users, problems, categories, payments, analytics
7. Payments Service: Stripe/Razorpay integration, subscriptions, webhooks
8. Worker/Queue: Redis/BullMQ, Kafka (optional)
9. Frontend: Public pages, login/register, problem bank, IDE, admin UI, payments UI

**🗃 Database Schemas (MongoDB)**
- users: identity, role, emailVerified (bool, default false), profile, refreshTokens
- categories: name, slug, paid/free flag, freeProblemLimit
- problems: category, title, description, examples, constraints, tags, difficulty, paid/free, testcases, createdBy, AI-estimated difficulty
- submissions: user, problem, code, language, result, runtime, memory, test results, createdAt
- subscriptions: user, plan, status, provider, start/end time
- payments: logs with user, amount, provider, status
- notifications: id, userId, type, payload, isRead, createdAt

**🚦 API Endpoints**
- Auth: register (with email verification), login, refresh, revoke, OAuth callback, email verify callback, get/current user
- Categories: list, create/edit (admin)
- Problems: list/search, create/upload, detail
- Submissions: run, submit, get
- AI: gen-testcases, debug-submission
- Payments: checkout, webhook, subscription status
- Notifications: create, list unread, mark read
- Admin: overview, approve, manage, export

**🧩 Frontend Features & Components**
- Public pages: Home, Login/Register (with OAuth), Email Verification Flow, Category/Problem browsing
- User pages: Dashboard, Profile, History, IDE
- Admin pages: Manage users/problems/categories/payments, feature toggles, bulk import/export, category navigation Prev/Next
- Subscription page: pay, feature toggles
- Rich pagination UI: keyboard, swipe, animated grid

**🚀 IDE & Submissions**
- Monaco editor, run visible cases, submit hidden cases, auto-save drafts, containerized exec, rate-limits, premium toggles

**🤖 AI Features (MCP Service)**
- Testcase generation, debugging, semantic search via Qdrant

**📊 Excel/CSV Upload**
- Required columns: title, description, examples, constraints, tags, difficulty, testcases, isPaid, categorySlug
- Validate, AI-fill missing, summary report, sync only new entries

**💰 Payments & Subscription**
- Free/premium plans monthly/annual, admin rules, feature toggles, provider webhooks

**🏭 Provider Factories**
- Config-driven providers: Auth, Payments, AI, Search; switch via env

**⚙️ Infra & DevOps**
- Local dev: Docker Compose (Mongo, Redis, Qdrant, services)
- CI/CD: GitHub Actions
- Monitoring: Prometheus, Grafana, ELK optional

**🧪 Testing**
- Backend: unit/integration
- Frontend: Jest/RTL, Cypress
- Security: email verification tests, rate-limits, validation, sanitization

**📅 Roadmap & Modules**
Phase 0: Scaffold & infra
Modules 1-9: Auth (incl. email verification), Categories, Problems, IDE, Submissions, AI, Payments, Admin, Monitoring

**✅ Summary**
Full SaaS-level problem-solving platform with modular microservices, config-driven provider switching, free↔paid upgrade paths, AI-driven MCP, bulk import, and robust admin operations.

*Remember: All services independent and switchable via config only.*
